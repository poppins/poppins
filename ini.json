{
  "sections":[
    {
      "name":"local",
      "directives":[
        {
          "name":"rootdir",
          "validate":{"absolutepath":"error"}
        },
        {
          "name":"logdir",
          "validate":{"absolutepath":"error"}
        },
        {
          "name":"hostdir-name",
          "default":"",
          "validate":{}
        },
        {
          "name":"hostdir-create",
          "default":true,
          "validate":{"boolean":"error"}
        },
        {
          "name":"filesystem",
          "default":"default",
          "validate":{"allowed":["default", "ZFS", "BTRFS"]}
        }
      ]
    },
    {
      "name":"remote",
      "directives":[
        {
          "name":"ssh",
          "default":true,
          "validate":{"boolean":"error"}
        },
        {
          "name":"host",
          "depends":"remote.ssh",
          "default":"",
          "validate":{}
        },
        {
          "name":"user",
          "depends":"remote.ssh",
          "default":"",
          "validate":{}
        },
        {
          "name":"pre-backup-script",
          "default":"",
          "validate":{"absolutepath?":"error"}
        },
        {
          "name":"pre-backup-onfail",
          "default":"abort",
          "validate":{"allowed":["abort", "continue"]}
        },
        {
          "name":"retry-count",
          "default":0,
          "validate":{"integer":"error"}
        },
        {
          "name":"retry-timeout",
          "default":0,
          "validate":{"integer":"error"}
        }
      ]
    },
    {
      "name":"included"
    },
    {
      "name":"excluded"
    },
    {
      "name":"snapshots"
    },
    {
      "name":"meta",
      "directives":[
        {
          "name":"remote-disk-layout",
          "default":true,
          "validate":{"boolean":"error"}
        },
        {
          "name":"remote-package-list",
          "default":true,
          "validate":{"boolean":"error"}
        }
      ]
    },
    {
      "name":"log",
      "directives":[
        {
          "name":"local-disk-usage",
          "default":false,
          "validate":{"boolean":"error"}
        },
        {
          "name":"compress",
          "default":false,
          "validate":{"boolean":"error"}
        }
      ]
    },
    {
      "name":"rsync",
      "directives":[
        {
          "name":"compresslevel",
          "default":0,
          "validate":{"integer":"error"}
        },
        {
          "name":"hardlinks",
          "default":false,
          "validate":{"boolean":"error"}
        },
        {
          "name":"verbose",
          "default":false,
          "validate":{"boolean":"error"}
        },
        {
          "name":"retry-count",
          "default":0,
          "validate":{"integer":"error"}
        },
        {
          "name":"retry-timeout",
          "default":0,
          "validate":{"integer":"error"}
        }
      ]
    },
    {
      "name":"mysql",
      "directives":[
        {
          "name":"enabled",
          "default":false,
          "validate":{"boolean":"error"}
        },
        {
          "name":"configdirs",
          "depends":"mysql.enabled",
          "default":"~",
          "validate":{"mysqlpaths":"error"}
        }
      ]
    }
  ]
}