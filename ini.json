{
  "sections":[
    {
      "name":"local",
      "directives":[
        {
          "name":"rootdir",
          "validate":{"absolute_path":"error","no_trailing_slash":"error"}
        },
        {
          "name":"logdir",
          "validate":{"absolute_path":"error","no_trailing_slash":"error"}
        },
        {
          "name":"hostdir-name",
          "default":"",
          "validate":{}
        },
        {
          "name":"hostdir-create",
          "default":true,
          "validate":{"boolean":"error"}
        },
        {
          "name":"snapshot-backend",
          "validate":{"allowed":["default", "zfs", "btrfs"]}
        }
      ]
    },
    {
      "name":"remote",
      "directives":[
        {
          "name":"ssh",
          "default":true,
          "validate":{"boolean":"error"}
        },
        {
          "name":"host",
          "depends":"remote.ssh",
          "default":"",
          "validate":{}
        },
        {
          "name":"user",
          "depends":"remote.ssh",
          "default":"",
          "validate":{}
        },
        {
          "name":"pre-backup-script",
          "default":"",
          "validate":{"absolute_path?":"error"}
        },
        {
          "name":"pre-backup-onfail",
          "default":"abort",
          "validate":{"allowed":["abort", "continue"]}
        },
        {
          "name":"backup-onfail",
          "default":"abort",
          "validate":{"allowed":["abort", "continue"]}
        },
        {
          "name":"post-backup-script",
          "default":"",
          "validate":{"absolute_path?":"error"}
        },
        {
          "name":"retry-count",
          "default":0,
          "validate":{"integer":"error"}
        },
        {
          "name":"retry-timeout",
          "default":0,
          "validate":{"integer":"error"}
        }
      ]
    },
    {
      "name":"included"
    },
    {
      "name":"excluded"
    },
    {
      "name":"snapshots"
    },
    {
      "name":"meta",
      "directives":[
        {
          "name":"remote-disk-layout",
          "default":true,
          "validate":{"boolean":"error"}
        },
        {
          "name":"remote-package-list",
          "default":true,
          "validate":{"boolean":"error"}
        }
      ]
    },
    {
      "name":"log",
      "directives":[
        {
          "name":"local-disk-usage",
          "default":false,
          "validate":{"boolean":"error"}
        },
        {
          "name":"compress",
          "default":false,
          "validate":{"boolean":"error"}
        }
      ]
    },
    {
      "name":"rsync",
      "directives":[
        {
          "name":"compresslevel",
          "default":0,
          "validate":{"integer":"error"}
        },
        {
          "name":"cross-filesystem-boundaries",
          "default":false,
          "validate":{"boolean":"error"}
        },
        {
          "name":"hardlinks",
          "default":false,
          "validate":{"boolean":"error"}
        },
        {
          "name":"timestamps",
          "default":false,
          "validate":{"boolean":"error"}
        },
        {
          "name":"retry-count",
          "default":0,
          "validate":{"integer":"error"}
        },
        {
          "name":"retry-timeout",
          "default":0,
          "validate":{"integer":"error"}
        },
        {
          "name":"verbose",
          "default":false,
          "validate":{"boolean":"error"}
        }
      ]
    },
    {
      "name":"mysql",
      "directives":[
        {
          "name":"enabled",
          "default":false,
          "validate":{"boolean":"error"}
        },
        {
          "name":"configdirs",
          "depends":"mysql.enabled",
          "default":"~",
          "validate":{"mysql_paths":"error"}
        },
        {
          "name":"included-databases",
          "ignore-missing":true,
          "depends":"mysql.enabled",
          "default":false,
          "validate":{"databases_include_type":"error"}
        },
        {
          "name":"excluded-databases",
          "ignore-missing":true,
          "depends":"mysql.enabled",
          "default":false,
          "validate":{"databases_include_type":"error"}
        },
        {
          "name":"ignore-tables",
          "ignore-missing":true,
          "depends":"mysql.enabled",
          "default":false,
          "validate":{"tables_include_type":"error"}
        },
        {
          "name":"included-tables",
          "ignore-missing":true,
          "depends":"mysql.enabled",
          "default":false,
          "validate":{"tables_include_type":"error"}
        },
        {
          "name":"excluded-tables",
          "ignore-missing":true,
          "depends":"mysql.enabled",
          "default":false,
          "validate":{"tables_include_type":"error"}
        },
        {
          "name":"output",
          "depends":"mysql.enabled",
          "default":"database",
          "validate":{"list":["database", "table", "csv"]}
        },
        {
          "name":"create-database",
          "depends":"mysql.enabled",
          "default":true,
          "validate":{"boolean":"error"}
        },
        {
          "name":"compress",
          "depends":"mysql.enabled",
          "default":true,
          "validate":{"boolean":"error"}
        }
      ]
    }
  ]
}